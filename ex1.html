<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>lista 2 ex 1</title>
</head>
<body>
    <h1>Lista de Compras</h1>
    <form name="listacompras">
        <input type="number" name="quantidade"/>
        <input type="text" name="item"/>
        <input type="submit" value="Adicionar"/>
        <input type="reset" value="Limpar"/>
    </form>

    <ul>

    </ul>
    <script>
        var compras = [];
        document.forms.listacompras.addEventListener("submit", processaLista);        
        var lista = document.getElementsByTagName("ul");
        
        function processaLista(e){
            e.preventDefault();
            var item = document.forms.listacompras.item.value;
            var quantidade = document.forms.listacompras.quantidade.value;
            var  novoItem = {"item": item, "quantidade":quantidade}
            compras.push(novoItem);
            var item = document.createElement("li");
            item.textContent = novoItem.item + " " + novoItem.quantidade;
            lista[0].appendChild(item);

            
        }

        document.forms.listacompras.addEventListener("reset", limparLista);
        
        function limparLista(e){
            lista[0].remove();
            var criaLista = document.createElement("ul");
            document.body.appendChild(criaLista);
            compras.splice(0);
            console.log(compras.length);                       
        }



    </script>
</body>
</html>
